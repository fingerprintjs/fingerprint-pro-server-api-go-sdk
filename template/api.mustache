
{{>partial_header}}
package {{packageName}}

{{#operations}}
import (
    "context"
    "net/http"
    "strings"
)

const IntegrationInfo = "fingerprint-pro-server-go-sdk/{{packageVersion}}"

type {{classname}}ServiceInterface interface {
{{#operation}}
        /*
    {{{classname}}}Service{{#summary}} {{.}}{{/summary}}{{#notes}}
    {{{notes}}}{{/notes}}
     * @param ctx context.Context - for authentication, logging, cancellation, deadlines, tracing, etc. Passed from http.Request or context.Background().
    {{#allParams}}{{#required}} * @param {{paramName}}{{#description}} {{{.}}}{{/description}}
    {{/required}}{{/allParams}}{{#hasOptionalParams}} * @param optional nil or *{{{classname}}}{{{nickname}}}Opts - Optional Parameters:
    {{#allParams}}{{^required}}     * @param "{{vendorExtensions.x-exportParamName}}" ({{#isPrimitiveType}}{{dataType}}{{/isPrimitiveType}}{{^isPrimitiveType}}Interface of {{dataType}}{{/isPrimitiveType}}) - {{#description}} {{{.}}}{{/description}}
    {{/required}}{{/allParams}}{{/hasOptionalParams}}
    {{#returnType}}@return {{{returnType}}}{{/returnType}}
    */
    {{{nickname}}}(ctx context.Context{{#hasParams}}, {{/hasParams}}{{#allParams}}{{#required}}{{paramName}} {{{dataType}}}{{#hasMore}}, {{/hasMore}}{{/required}}{{/allParams}}{{#hasOptionalParams}}opts *{{{classname}}}{{{nickname}}}Opts{{/hasOptionalParams}}) ({{#returnType}}{{{returnType}}}, {{/returnType}}*http.Response, error)

{{/operation}}
}

type requestDefinition struct {
    StatusCodeResultsFactoryMap map[int]func() interface{}
    GetPath             func(params ...string) string
}

{{#operation}}
func create{{nickname}}Definition() requestDefinition {
    return requestDefinition{
        GetPath: func(args ...string) string {
            pathParams := []string{ {{#pathParams}}"{{baseName}}",{{/pathParams}} }

            path := "{{{path}}}"

            for i, arg := range args {
                path = strings.Replace(path, "{"+pathParams[i]+"}", arg, -1)
            }

            return path
        },
        StatusCodeResultsFactoryMap: map[int]func() interface{}{
            {{#responses}}{{#dataType}}
            {{code}}: func() interface{} { return &{{{dataType}}}{} },
            {{/dataType}}{{/responses}}
        },
    }
}

{{#hasOptionalParams}}

type {{{classname}}}{{{nickname}}}Opts struct { {{#allParams}}{{^required}}
{{#isPrimitiveType}}	{{vendorExtensions.x-exportParamName}} {{dataType}}`url:"{{baseName}}"`{{/isPrimitiveType}}{{^isPrimitiveType}}	{{vendorExtensions.x-exportParamName}} interface{{/isPrimitiveType}}{{/required}}{{/allParams}}
}

{{/hasOptionalParams}}
{{/operation}}{{/operations}}
